{"ast":null,"code":"var _jsxFileName = \"D:\\\\FPT\\\\FER202\\\\PE\\\\PE 2024 Fall\\\\src\\\\context\\\\ProductContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductContext = /*#__PURE__*/createContext();\nconst ProductProvider = ({\n  children\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [filters, setFilters] = useState({\n    category: \"\",\n    brand: \"\"\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      const [productsRes, categoriesRes, brandsRes] = await Promise.all([axios.get(\"http://localhost:9999/product\"), axios.get(\"http://localhost:9999/category\"), axios.get(\"http://localhost:9999/brand\")]);\n      setProducts(productsRes.data);\n      setCategories(categoriesRes.data);\n      setBrands(brandsRes.data);\n    };\n    fetchData();\n  }, []);\n  const filterProducts = () => {\n    return products.filter(product => (!filters.category || product.category === Number(filters.category)) && (!filters.brand || product.brand === Number(filters.brand)));\n  };\n  return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n    value: {\n      products: filterProducts(),\n      categories,\n      brands,\n      setFilters\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductProvider, \"VSWRo063ZMGOUSmhBcJLwdQVzzE=\");\n_c = ProductProvider;\nexport default ProductProvider;\nvar _c;\n$RefreshReg$(_c, \"ProductProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","axios","jsxDEV","_jsxDEV","ProductContext","ProductProvider","children","_s","products","setProducts","categories","setCategories","brands","setBrands","filters","setFilters","category","brand","fetchData","productsRes","categoriesRes","brandsRes","Promise","all","get","data","filterProducts","filter","product","Number","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/FPT/FER202/PE/PE 2024 Fall/src/context/ProductContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport const ProductContext = createContext();\r\n\r\nconst ProductProvider = ({ children }) => {\r\n    const [products, setProducts] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [brands, setBrands] = useState([]);\r\n    const [filters, setFilters] = useState({ category: \"\", brand: \"\" });\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const [productsRes, categoriesRes, brandsRes] = await Promise.all([\r\n                axios.get(\"http://localhost:9999/product\"),\r\n                axios.get(\"http://localhost:9999/category\"),\r\n                axios.get(\"http://localhost:9999/brand\"),\r\n            ]);\r\n            setProducts(productsRes.data);\r\n            setCategories(categoriesRes.data);\r\n            setBrands(brandsRes.data);\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    const filterProducts = () => {\r\n        return products.filter(\r\n            (product) =>\r\n                (!filters.category || product.category === Number(filters.category)) &&\r\n                (!filters.brand || product.brand === Number(filters.brand))\r\n        );\r\n    };\r\n\r\n    return (\r\n        <ProductContext.Provider\r\n            value={{\r\n                products: filterProducts(),\r\n                categories,\r\n                brands,\r\n                setFilters,\r\n            }}\r\n        >\r\n            {children}\r\n        </ProductContext.Provider>\r\n    );\r\n};\r\n\r\nexport default ProductProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,OAAO,MAAMC,cAAc,gBAAGN,aAAa,CAAC,CAAC;AAE7C,MAAMO,eAAe,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,QAAQ,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAG,CAAC,CAAC;EAEnEjB,SAAS,CAAC,MAAM;IACZ,MAAMkB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,MAAM,CAACC,WAAW,EAAEC,aAAa,EAAEC,SAAS,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC9DtB,KAAK,CAACuB,GAAG,CAAC,+BAA+B,CAAC,EAC1CvB,KAAK,CAACuB,GAAG,CAAC,gCAAgC,CAAC,EAC3CvB,KAAK,CAACuB,GAAG,CAAC,6BAA6B,CAAC,CAC3C,CAAC;MACFf,WAAW,CAACU,WAAW,CAACM,IAAI,CAAC;MAC7Bd,aAAa,CAACS,aAAa,CAACK,IAAI,CAAC;MACjCZ,SAAS,CAACQ,SAAS,CAACI,IAAI,CAAC;IAC7B,CAAC;IACDP,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,cAAc,GAAGA,CAAA,KAAM;IACzB,OAAOlB,QAAQ,CAACmB,MAAM,CACjBC,OAAO,IACJ,CAAC,CAACd,OAAO,CAACE,QAAQ,IAAIY,OAAO,CAACZ,QAAQ,KAAKa,MAAM,CAACf,OAAO,CAACE,QAAQ,CAAC,MAClE,CAACF,OAAO,CAACG,KAAK,IAAIW,OAAO,CAACX,KAAK,KAAKY,MAAM,CAACf,OAAO,CAACG,KAAK,CAAC,CAClE,CAAC;EACL,CAAC;EAED,oBACId,OAAA,CAACC,cAAc,CAAC0B,QAAQ;IACpBC,KAAK,EAAE;MACHvB,QAAQ,EAAEkB,cAAc,CAAC,CAAC;MAC1BhB,UAAU;MACVE,MAAM;MACNG;IACJ,CAAE;IAAAT,QAAA,EAEDA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAElC,CAAC;AAAC5B,EAAA,CAxCIF,eAAe;AAAA+B,EAAA,GAAf/B,eAAe;AA0CrB,eAAeA,eAAe;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}